# ä¸»è§’äººç‰©ç®¡ç†ç³»ç»Ÿ - å®æ–½æ–‡æ¡£

> **å®æ–½æ—¥æœŸ**: 2025-01-21ï¼ˆåˆç‰ˆï¼‰ / 2025-01-21ï¼ˆFace-Person å…³è”å¢å¼ºç‰ˆï¼‰
> **æ–¹æ¡ˆåç§°**: Face-Person å…³è” + TargetPersonManager + è½»é‡è·Ÿè¸ª + æ·±åº¦ gating + ä¸€è‡´æ€§æ£€æŸ¥

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æ¬¡å®æ–½å®Œæˆäº†**ä¸»è§’äººç‰©ç®¡ç†ç³»ç»Ÿï¼ˆFace-Person å…³è”å¢å¼ºç‰ˆï¼‰**ï¼Œç¡®ä¿æ•´ä¸ª AITable ç³»ç»Ÿä¸­æ‰€æœ‰æ£€æµ‹æ¨¡å—ï¼ˆæƒ…ç»ªã€ç–²åŠ³ã€å§¿æ€ï¼‰å§‹ç»ˆé’ˆå¯¹**åŒä¸€ä¸ªä¸»è§’**è¿›è¡Œæ¨ç†ï¼Œå¹¶ä¸”**å§¿æ€æ£€æµ‹ä½¿ç”¨æ­£ç¡®çš„ person bbox**ã€‚

### æ ¸å¿ƒæ”¹è¿›

1. âœ… **Face-Person å…³è”**ï¼šè‡ªåŠ¨åŒ¹é…äººè„¸å’Œäººä½“æ£€æµ‹æ¡†ï¼Œç¡®ä¿å§¿æ€æ£€æµ‹å‡†ç¡®
2. âœ… **ç»Ÿä¸€ä¸»è§’é€‰æ‹©**ï¼š`TargetPersonManager` ä½œä¸ºå”¯ä¸€æƒå¨å…¥å£
3. âœ… **è½»é‡çº§è·Ÿè¸ª**ï¼šåŸºäº IoU çš„ `SimpleTracker`ï¼Œç»´æŠ¤å¤šå¸§ ID è¿ç»­æ€§ï¼ˆåŒæ—¶è·Ÿè¸ª face + person bboxï¼‰
4. âœ… **æ·±åº¦ç©ºé—´è¿‡æ»¤**ï¼šåˆ©ç”¨ TOF æ·±åº¦ç›¸æœºï¼Œè¿‡æ»¤èƒŒæ™¯äººå‘˜
5. âœ… **çŸ­æš‚ä¸¢å¸§å®¹å¿**ï¼šä¸»è§’æš‚æ—¶é®æŒ¡æ—¶ä¸ç«‹åˆ»åˆ‡æ¢
6. âœ… **ä¸€è‡´æ€§æ£€æŸ¥**ï¼š`ConsistencyChecker` é˜²æ­¢æ¨¡å—é—´ç›®æ ‡ä¸ä¸€è‡´
7. âœ… **åŒ ROI æå–**ï¼š`ROIManager.extract_dual()` åŒæ—¶æå– face å’Œ person ROI

---

## ğŸ—ï¸ æ¶æ„å˜æ›´

### æ–°å¢æ¨¡å—

```
modules/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ types_target.py             # æ•°æ®ç»“æ„ï¼ˆBBox, Track, TargetStateï¼‰- å¢å¼ºæ”¯æŒ person_bbox
â”‚   â”œâ”€â”€ target_person_manager.py    # ä¸»è§’ç®¡ç†å™¨ - æ”¯æŒ face-person pairs
â”‚   â””â”€â”€ consistency_checker.py      # ä¸€è‡´æ€§æ£€æŸ¥å™¨
â”œâ”€â”€ detection/
â”‚   â”œâ”€â”€ associator.py               #  Face-Person å…³è”å™¨ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ roi_manager.py              # ROI ç®¡ç†å™¨ - æ–°å¢ extract_dual() æ–¹æ³•
â””â”€â”€ tracking/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ simple_tracker.py           # è½»é‡çº§ IoU è·Ÿè¸ªå™¨ - æ”¯æŒ person_bbox
```

### ä¿®æ”¹æ–‡ä»¶

- **DetectionOrchestrator** (`modules/core/orchestrator.py`)
  - é›†æˆ `TargetPersonManager`
  - ä¿®æ”¹ä¸»å¾ªç¯ï¼šå…ˆæ£€æµ‹æ‰€æœ‰äººè„¸ â†’ é€‰ä¸»è§’ â†’ åªå¯¹ä¸»è§’æ¨ç†
  - æ·»åŠ è¾…åŠ©æ–¹æ³•ï¼š`_convert_detections_to_tracker_format()`, `_build_results_from_target()`

- **system_config.json**
  - æ–°å¢ `target_person` é…ç½®æ®µ

---

## ğŸ”§ é…ç½®è¯´æ˜

### system_config.json æ–°å¢é…ç½®

```json
{
  "target_person": {
    "description": "ä¸»è§’äººç‰©ç®¡ç†é…ç½®ï¼ˆå•äººè·Ÿè¸ª + æ·±åº¦ gatingï¼‰",
    "selection_strategy": "desk_student",
    "max_lost_frames_keep": 10,
    "depth_min": 0.2,
    "depth_max": 1.5,
    "tracker_iou_threshold": 0.3,
    "tracker_max_lost": 30
  }
}
```

### å‚æ•°è¯´æ˜

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `selection_strategy` | `"desk_student"` | é€‰äººç­–ç•¥ï¼ˆå¯é€‰ï¼š`desk_student`, `largest_face`, `highest_confidence`ï¼‰ |
| `max_lost_frames_keep` | `10` | ä¸»è§’çŸ­æš‚ä¸¢å¤±æ—¶ä¿æŒçš„æœ€å¤§å¸§æ•°ï¼ˆè¶…è¿‡åé‡ç½®ï¼‰ |
| `depth_min` | `0.2` | æ¡Œå‰æ·±åº¦åŒºé—´ä¸‹é™ï¼ˆç±³ï¼‰ |
| `depth_max` | `1.5` | æ¡Œå‰æ·±åº¦åŒºé—´ä¸Šé™ï¼ˆç±³ï¼‰ |
| `tracker_iou_threshold` | `0.3` | IoU è·Ÿè¸ªé˜ˆå€¼ï¼ˆ0.3 é€‚åˆäººè„¸ï¼‰ |
| `tracker_max_lost` | `30` | è·Ÿè¸ªå™¨åˆ é™¤ track çš„æœ€å¤§ä¸¢å¤±å¸§æ•° |

### è°ƒæ•´å»ºè®®

1. **æ·±åº¦é˜ˆå€¼æ ‡å®š**ï¼š
   - åœ¨ Jetson ä¸Šè¿è¡Œç³»ç»Ÿï¼Œè§‚å¯Ÿæ—¥å¿—ä¸­çš„ `target_depth` å€¼
   - æ ¹æ®å®é™…æ¡Œé¢é«˜åº¦è°ƒæ•´ `depth_min` å’Œ `depth_max`
   - ç¤ºä¾‹ï¼šå¦‚æœå­¦ç”Ÿé€šå¸¸è·æ¡Œé¢ 30cm~120cmï¼Œè®¾ç½®ä¸º `[0.3, 1.2]`

2. **ä¸¢å¤±å®¹å¿è°ƒæ•´**ï¼š
   - `max_lost_frames_keep`: æ ¹æ®å®é™…å¸§ç‡è°ƒæ•´
   - 30 FPS â†’ 10 å¸§ â‰ˆ 0.33 ç§’
   - 3 FPS â†’ 10 å¸§ â‰ˆ 3.3 ç§’ï¼ˆå¯èƒ½å¤ªé•¿ï¼Œå»ºè®®æ”¹ä¸º 3-5ï¼‰

---

## ğŸ“Š æ•°æ®æµ

### åŸæœ‰æµç¨‹ï¼ˆå•å¸§ç‹¬ç«‹é€‰äººï¼‰

```
æ¯å¸§ç‹¬ç«‹ï¼š
    äººè„¸æ£€æµ‹ â†’ é€‰æœ€å¤§/æœ€è¿‘äººè„¸ â†’ å„æ¨¡å—æ¨ç†
    ï¼ˆé—®é¢˜ï¼šå¤šäººæ—¶é¢‘ç¹åˆ‡æ¢ï¼‰
```

### æ–°æµç¨‹ï¼ˆFace-Person å…³è” + ä¸»è§’è·Ÿè¸ªï¼‰

```
æ¯å¸§ï¼š
    1. äººè„¸æ£€æµ‹ï¼ˆè·å–æ‰€æœ‰äººè„¸ï¼‰
       â†“
    2. äººä½“æ£€æµ‹ï¼ˆè·å–æ‰€æœ‰ person bboxï¼Œç”¨äºå§¿æ€ï¼‰
       â†“
    3.  Face-Person å…³è”ï¼ˆassociate_face_and_personï¼‰
       - IoU åŒ¹é… face å’Œ person
       - ç¡®ä¿ä¸¤è€…å±äºåŒä¸€ä¸ªäºº
       â†“
    4. TargetPersonManager.update(face_person_pairs)
       - SimpleTracker ç»´æŠ¤ track IDï¼ˆåŒæ—¶è·Ÿè¸ª face + person bboxï¼‰
       - æ·±åº¦ gatingï¼ˆè¿‡æ»¤èƒŒæ™¯ï¼‰
       - é€‰æ‹©ä¸»è§’ï¼ˆæˆ–ç»´æŒç°æœ‰ä¸»è§’ï¼‰
       â†“
    5. æå–ä¸»è§’ ROIï¼ˆface + personï¼‰
       - ROIManager.extract_dual()
       - face_roi â†’ æƒ…ç»ª/ç–²åŠ³
       - person_roi â†’ å§¿æ€
       â†“
    6. å„æ¨¡å—åªå¯¹ä¸»è§’æ¨ç†ï¼ˆæƒ…ç»ª/ç–²åŠ³/å§¿æ€ï¼‰
       -  å§¿æ€æ¨¡å—ä½¿ç”¨æä¾›çš„ person_roiï¼ˆä¸å†è‡ªå·±æ‰¾äººï¼‰
       â†“
    7. ç»“æœåŒ…å« target_idï¼ˆä¸€è‡´æ€§éªŒè¯ï¼‰
```

---

## ğŸ¯ é€‰äººç­–ç•¥è¯¦è§£

### desk_student ç­–ç•¥ï¼ˆæ¨èï¼‰

**è¯„åˆ†å…¬å¼**ï¼š
```
score = depth_score + area_score + confidence_score
```

**å› å­æƒé‡**ï¼š
1. **æ·±åº¦è¯„åˆ†**ï¼ˆæœ€é‡è¦ï¼‰ï¼š
   - åœ¨ `[depth_min, depth_max]` å†…ï¼š0.0 ~ 5.0 åˆ†ï¼ˆè¶Šå±…ä¸­è¶Šé«˜ï¼‰
   - è¶…å‡ºåŒºé—´ï¼š-10.0 åˆ†ï¼ˆå¼ºçƒˆæƒ©ç½šï¼‰

2. **é¢ç§¯è¯„åˆ†**ï¼š`min(10.0, area / 1000.0)`

3. **ç½®ä¿¡åº¦è¯„åˆ†**ï¼š`score * 2.0`ï¼ˆ0.0 ~ 2.0ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… æ¡Œå‰å•äººå­¦ä¹ /åŠå…¬
- âœ… å¶å°”æœ‰èƒŒæ™¯äººå‘˜èµ°è¿‡
- âœ… TOF æ·±åº¦ç›¸æœºå¯ç”¨

### largest_face ç­–ç•¥

ç®€å•æŒ‰ bbox é¢ç§¯é€‰æ‹©ï¼Œé€‚åˆæ— æ·±åº¦ä¿¡æ¯çš„åœºæ™¯ã€‚

### highest_confidence ç­–ç•¥

æŒ‰æ£€æµ‹ç½®ä¿¡åº¦é€‰æ‹©ï¼Œé€‚åˆæ£€æµ‹è´¨é‡ä¼˜å…ˆçš„åœºæ™¯ã€‚

---

## ğŸ” è°ƒè¯•å’Œç›‘æ§

### æ—¥å¿—å…³é”®å­—

æŸ¥çœ‹ä¸»è§’é€‰æ‹©å’Œè·Ÿè¸ªçŠ¶æ€ï¼š

```bash
# ä¸»è§’åˆ‡æ¢æ—¥å¿—
grep "[TargetPersonManager] é€‰æ‹©æ–°ä¸»è§’" logs/aitable_*.log

# ä¸»è§’ä¸¢å¤±å‘Šè­¦
grep "[TargetPersonManager] ä¸»è§’ä¸¢å¤±" logs/aitable_*.log

# ä¸ä¸€è‡´æ€§å‘Šè­¦ï¼ˆé‡è¦ï¼ï¼‰
grep "[INCONSISTENT_TARGET]" logs/aitable_*.log

# è·Ÿè¸ªå™¨çŠ¶æ€
grep "[SimpleTracker]" logs/aitable_*.log
```

### ä¸€è‡´æ€§æ£€æŸ¥

å¦‚æœé¢‘ç¹å‡ºç° `[INCONSISTENT_TARGET]` å‘Šè­¦ï¼Œè¯´æ˜æœ‰æ¨¡å—"å·å·æ¢äºº"äº†ï¼š

```
[INCONSISTENT_TARGET] æ¨¡å—é—´ target_id ä¸ä¸€è‡´! expected=123, module_ids={'emotion': 123, 'fatigue': 456}
```

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥æ˜¯å¦æœ‰æ¨¡å—ç»•è¿‡ `target_manager` è‡ªå·±é€‰äºº
2. æ£€æŸ¥å¼‚æ­¥æ¨ç†é˜Ÿåˆ—æ˜¯å¦ç§¯å‹ï¼ˆæ—§æ•°æ®æ··å…¥ï¼‰
3. æ£€æŸ¥ `target_id` æ˜¯å¦æ­£ç¡®ä¼ é€’åˆ°å„ä¸ªå¼•æ“

### results å­—æ®µè¯´æ˜

æ–°å¢å­—æ®µï¼š

```python
results = {
    'target_id': 123,                # ä¸»è§’è·Ÿè¸ª ID
    'target_depth': 0.65,            # ä¸»è§’æ·±åº¦ï¼ˆç±³ï¼‰
    'target_lost_frames': 0,         # ä¸»è§’ä¸¢å¤±å¸§æ•°
    # ... å…¶ä»–åŸæœ‰å­—æ®µ
}
```

---

## ğŸ§ª æµ‹è¯•å»ºè®®

### 1. å•äººåœºæ™¯æµ‹è¯•

- **é¢„æœŸ**ï¼š`target_id` ä¿æŒç¨³å®šï¼ˆè¿ç»­å¤šå¸§ä¸å˜ï¼‰
- **æ—¥å¿—æ£€æŸ¥**ï¼šæ—  `[INCONSISTENT_TARGET]` å‘Šè­¦

### 2. çŸ­æš‚é®æŒ¡æµ‹è¯•

- **æ“ä½œ**ï¼šç”¨æ‰‹çŸ­æš‚é®æŒ¡äººè„¸ï¼ˆ< `max_lost_frames_keep` å¸§ï¼‰
- **é¢„æœŸ**ï¼š`target_id` ä¸å˜ï¼Œ`target_lost_frames` é€’å¢
- **æ¢å¤å**ï¼š`target_lost_frames` é‡ç½®ä¸º 0

### 3. èƒŒæ™¯å¹²æ‰°æµ‹è¯•

- **æ“ä½œ**ï¼šè®©å¦ä¸€ä¸ªäººåœ¨èƒŒæ™¯èµ°è¿‡
- **é¢„æœŸ**ï¼šå¦‚æœèƒŒæ™¯äººæ·±åº¦è¶…å‡º `[depth_min, depth_max]`ï¼Œä¸»è§’ä¸åˆ‡æ¢
- **æ—¥å¿—æ£€æŸ¥**ï¼šåº”è¯¥çœ‹åˆ° "depth=-10.0" çš„è¯„åˆ†è®°å½•ï¼ˆèƒŒæ™¯äººè¢«æƒ©ç½šï¼‰

### 4. ä¸»è§’ç¦»å¼€æµ‹è¯•

- **æ“ä½œ**ï¼šä¸»è§’ç¦»å¼€ç”»é¢è¶…è¿‡ `max_lost_frames_keep` å¸§
- **é¢„æœŸ**ï¼š`target_id` é‡ç½®ä¸º `None`
- **é‡æ–°è¿›å…¥**ï¼šåˆ†é…æ–°çš„ `target_id`ï¼ˆID é€’å¢ï¼‰

---

## âš™ï¸ æ€§èƒ½å½±å“

### CPU å¼€é”€

- **SimpleTracker IoU è®¡ç®—**ï¼š< 1msï¼ˆå•å¸§ 5 ä¸ª trackï¼‰
- **æ·±åº¦æŸ¥è¯¢**ï¼š< 0.5msï¼ˆå¤ç”¨ç°æœ‰ `get_robust_depth()`ï¼‰
- **æ€»å¢é‡**ï¼šçº¦ 1-2msï¼ˆå¯å¿½ç•¥ï¼‰

### å†…å­˜å¼€é”€

- **Track å­˜å‚¨**ï¼šçº¦ 5 ä¸ª track Ã— 100 bytes = 500 bytes
- **TargetState**ï¼šçº¦ 200 bytes
- **æ€»å¢é‡**ï¼š< 1 KBï¼ˆå¯å¿½ç•¥ï¼‰

### å»¶è¿Ÿå½±å“

- **ä¸»è§’é€‰æ‹©**ï¼šåœ¨ä¸»çº¿ç¨‹åŒæ­¥æ‰§è¡Œï¼Œä¸é˜»å¡æ¨ç†
- **å¼‚æ­¥æ¨¡å¼**ï¼šæ¨ç†ä»åœ¨åå°çº¿ç¨‹ï¼Œæ— å½±å“

---

## ğŸ› å·²çŸ¥é™åˆ¶

1. **æ·±åº¦ä¾èµ–**ï¼š
   - æ·±åº¦ gating ä¾èµ– TOF ç›¸æœº
   - å¦‚æœæ·±åº¦æ•°æ®ä¸å¯ç”¨ï¼Œä¼šå›é€€åˆ°çº¯è§†è§‰é€‰äººï¼ˆé¢ç§¯/ç½®ä¿¡åº¦ï¼‰

2. **å•äººå‡è®¾**ï¼š
   - å½“å‰æ–¹æ¡ˆé’ˆå¯¹"å•äººä¸»è§’ + å¶å°”èƒŒæ™¯"åœºæ™¯ä¼˜åŒ–
   - å¦‚æœéœ€è¦çœŸæ­£çš„å¤šç›®æ ‡è·Ÿè¸ªï¼Œå»ºè®®å¼•å…¥ DeepSORT

3. **ID è¿ç»­æ€§**ï¼š
   - `track_id` æ˜¯é€’å¢åˆ†é…çš„ï¼Œé‡å¯åä» 1 å¼€å§‹
   - ä¸æ”¯æŒè·¨ä¼šè¯çš„æŒä¹…åŒ– ID

---

## ğŸ”— Face-Person å…³è”è¯¦è§£

### ä¸ºä»€ä¹ˆéœ€è¦å…³è”ï¼Ÿ

**é—®é¢˜**ï¼šå§¿æ€æ£€æµ‹éœ€è¦ `person_bbox`ï¼ˆå…¨èº«æ¡†ï¼‰ï¼Œè€Œæƒ…ç»ª/ç–²åŠ³æ£€æµ‹éœ€è¦ `face_bbox`ï¼ˆäººè„¸æ¡†ï¼‰ã€‚å¦‚æœä¸¤è€…æ¥è‡ªä¸åŒçš„äººï¼Œä¼šå¯¼è‡´ï¼š
- æƒ…ç»ª/ç–²åŠ³åˆ†æçš„æ˜¯ A çš„è„¸
- å§¿æ€åˆ†æçš„æ˜¯ B çš„èº«ä½“
- ç»“æœæ··ä¹±ï¼Œæ— æ³•å½¢æˆå®Œæ•´çš„ç”¨æˆ·ç”»åƒ

**è§£å†³æ–¹æ¡ˆ**ï¼š`associate_face_and_person()` å‡½æ•°ç¡®ä¿ face å’Œ person å±äºåŒä¸€ä¸ªäººã€‚

### å…³è”ç­–ç•¥

å®ç°åœ¨ [modules/tracking/associator.py](../modules/tracking/associator.py:1)

1. **ç­–ç•¥ 1: åŒ…å«åº¦åŒ¹é…**ï¼ˆä¼˜å…ˆï¼‰
   - æ£€æŸ¥ person bbox æ˜¯å¦åŒ…å« face bbox
   - åŒ…å«åº¦é˜ˆå€¼ï¼š0.7ï¼ˆ70% çš„ face åœ¨ person å†…ï¼‰
   - é€‚ç”¨åœºæ™¯ï¼šæ­£å¸¸ç«™å§¿/åå§¿ï¼ˆface åº”è¯¥åœ¨ person å†…éƒ¨ï¼‰

2. **ç­–ç•¥ 2: IoU åŒ¹é…**ï¼ˆå›é€€ï¼‰
   - å¦‚æœæ²¡æœ‰åŒ…å«å…³ç³»ï¼Œä½¿ç”¨ IoUï¼ˆäº¤å¹¶æ¯”ï¼‰
   - IoU é˜ˆå€¼ï¼š0.3ï¼ˆ30% é‡å å³å¯ï¼‰
   - é€‚ç”¨åœºæ™¯ï¼šéƒ¨åˆ†é®æŒ¡ã€ä¾§é¢

3. **ç­–ç•¥ 3: æ— åŒ¹é…**ï¼ˆé™çº§ï¼‰
   - å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„ personï¼Œ`person_bbox = None`
   - å§¿æ€æ¨¡å—ä¼šè·³è¿‡æ­¤äººï¼ˆåªåšæƒ…ç»ª/ç–²åŠ³åˆ†æï¼‰

### æ•°æ®ç»“æ„å¢å¼º

#### Trackï¼ˆè½»é‡çº§è·Ÿè¸ªå¯¹è±¡ï¼‰

```python
@dataclass
class Track:
    track_id: int
    face_bbox: BBox          #  äººè„¸æ¡†
    person_bbox: Optional[BBox]  #  äººä½“æ¡†ï¼ˆå¯é€‰ï¼‰
    score: float
    # ...
```

#### TargetStateï¼ˆä¸»è§’çŠ¶æ€ï¼‰

```python
@dataclass
class TargetState:
    target_id: Optional[int]
    face_bbox: Optional[BBox]    #  ä¸»è§’äººè„¸æ¡†
    person_bbox: Optional[BBox]  #  ä¸»è§’äººä½“æ¡†
    depth: Optional[float]
    # ...
```

### ROI åŒæå–

`ROIManager.extract_dual()` åŒæ—¶æå–ä¸¤ä¸ª ROIï¼š

```python
rois = roi_manager.extract_dual(
    rgb_frame,
    face_bbox={'x1': 100, 'y1': 100, 'x2': 200, 'y2': 200},
    person_bbox={'x1': 80, 'y1': 80, 'x2': 220, 'y2': 400}
)

# rois = {
#     'face_roi': RegionROI(...),    # ç”¨äºæƒ…ç»ª/ç–²åŠ³
#     'person_roi': RegionROI(...)   # ç”¨äºå§¿æ€
# }
```

### è°ƒè¯•æŠ€å·§

æŸ¥çœ‹å…³è”æ—¥å¿—ï¼š

```bash
grep "\[Associator\]" logs/aitable_*.log
```

å…¸å‹æ—¥å¿—ï¼š

```
[Associator] Face-Person åŒ¹é…æˆåŠŸ: face_bbox={...}, person_bbox={...}, match_type=contain, score=0.95
[Associator] Face æ— åŒ¹é… Person: face_bbox={...}
[Associator] å…³è”å®Œæˆ: 2 faces, 3 persons â†’ 2 pairs (2 persons matched)
```

---

## ğŸš€ æœªæ¥ä¼˜åŒ–æ–¹å‘

1. **å¤šäººåœºæ™¯æ”¯æŒ**ï¼š
   - å¼•å…¥ ReIDï¼ˆRe-Identificationï¼‰ç‰¹å¾
   - æ”¯æŒæŒ‡å®šä¸»è§’ï¼ˆä¾‹å¦‚é€šè¿‡é¢éƒ¨è¯†åˆ«ï¼‰

2. **æ·±åº¦æ ‡å®šå·¥å…·**ï¼š
   - æä¾› GUI å·¥å…·è¾…åŠ©æ ‡å®š `depth_min/max`
   - è‡ªåŠ¨å­¦ä¹ ç”¨æˆ·çš„æ·±åº¦åˆ†å¸ƒ

3. **ä¸€è‡´æ€§æ£€æŸ¥å¢å¼º**ï¼š
   - åœ¨ TelemetryBuilder ä¸­è‡ªåŠ¨è®°å½•ä¸€è‡´æ€§ç»Ÿè®¡
   - å¯è§†åŒ–æ˜¾ç¤º `target_id`ï¼ˆåœ¨ UI ä¸Šæ ‡æ³¨ï¼‰

4. **é…ç½®çƒ­æ›´æ–°**ï¼š
   - æ”¯æŒè¿è¡Œæ—¶è°ƒæ•´æ·±åº¦é˜ˆå€¼ï¼ˆæ— éœ€é‡å¯ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [TensorRT-Only æ¶æ„è¯´æ˜](TENSORRT_ONLY_ARCHITECTURE.md)
- [æ¶æ„å†³ç­–è®°å½•](ARCHITECTURE_DECISION_ORCHESTRATOR.md)
- [æ¨¡å‹è½¬æ¢æŒ‡å—](MODEL_CONVERSION_GUIDE.md)

---

## ğŸ™ è‡´è°¢

- æ–¹æ¡ˆè®¾è®¡ï¼šåŸºäº"Face-Person å…³è” + å•ä¸€ ROI ç®¡çº¿ + æ·±åº¦ gating"æ€è·¯
- å®æ–½å·¥å…·ï¼šClaude Code (Sonnet 4.5)
- æµ‹è¯•å¹³å°ï¼šNVIDIA Jetson Orin Nano Super

---

**æœ€åæ›´æ–°**: 2025-01-21
**ç‰ˆæœ¬**: v2.0ï¼ˆFace-Person å…³è”å¢å¼ºç‰ˆï¼‰
