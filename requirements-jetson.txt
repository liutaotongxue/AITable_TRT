# ============================================================================
# AITable 智能监测系统 - Jetson TensorRT 专用依赖
# ============================================================================
# 平台：NVIDIA Jetson Orin Nano Super
# 架构：TensorRT-only（不支持 PyTorch 推理或 Ultralytics）
# Python：3.8+
#
# 部署说明：
# 1. 需要预装 JetPack SDK（包含 CUDA、cuDNN、TensorRT）
# 2. 所有模型必须是板级生成的 .engine 文件
# 3. 不需要安装 ultralytics 或 torch（推理时）
# ============================================================================

# --------------------------------------------------------------------------- #
# 核心依赖（TensorRT 推理）
# --------------------------------------------------------------------------- #

# NumPy - 数值计算（与 JetPack 兼容版本）
numpy>=1.19.4,<1.24.0

# OpenCV - 图像处理（JetPack 预装，此处为版本参考）
# 注意：Jetson 通常预装 opencv-python，无需 pip 安装
# opencv-python>=4.5.0

# PyCUDA - CUDA Python 绑定（TensorRT 推理必需）
pycuda>=2021.1

# --------------------------------------------------------------------------- #
# TensorRT（JetPack 预装）
# --------------------------------------------------------------------------- #
# 注意：TensorRT 由 JetPack 提供，无需通过 pip 安装
# 版本参考：TensorRT 8.5+ (JetPack 5.x)
# 如需验证：python3 -c "import tensorrt; print(tensorrt.__version__)"

# --------------------------------------------------------------------------- #
# 应用依赖
# --------------------------------------------------------------------------- #

# Pillow - 图像处理
Pillow>=9.0.0

# SciPy - 科学计算（用于信号处理、滤波等）
scipy>=1.7.0

# --------------------------------------------------------------------------- #
# 可选依赖（情绪识别、疲劳检测）
# --------------------------------------------------------------------------- #

# MediaPipe - 人脸网格检测（疲劳检测）
# 注意：需要从源码编译或使用预编译 wheel
# mediapipe>=0.10.0

# --------------------------------------------------------------------------- #
# 开发/调试依赖（生产环境可选）
# --------------------------------------------------------------------------- #

# psutil - 系统资源监控
# psutil>=5.8.0

# --------------------------------------------------------------------------- #
# 已移除的依赖（TensorRT-only 架构不需要）
# --------------------------------------------------------------------------- #
# ❌ ultralytics - 已移除（SimpleFaceDetector 已删除）
# ❌ torch - 已移除（推理不使用 PyTorch，仅 preflight_check 需要）
# ❌ torchvision - 已移除

# --------------------------------------------------------------------------- #
# 安装说明
# --------------------------------------------------------------------------- #
# 1. 确认 JetPack 已安装：
#    $ sudo apt-cache show nvidia-jetpack
#
# 2. 安装 Python 依赖：
#    $ pip3 install -r requirements-jetson.txt
#
# 3. 验证 TensorRT 可用：
#    $ python3 -c "import tensorrt; import pycuda.driver as cuda; print('OK')"
#
# 4. 验证模型格式：
#    $ ls -lh models/*.engine
#
# 5. 运行预检：
#    $ python3 preflight_check.py
# --------------------------------------------------------------------------- #
